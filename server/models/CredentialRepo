const mongoose = require('mongoose');

// Schema for credentials, uses key value pairs.
const credentialSchema = new mongoose.Schema({
  key: { type: String, required: true },
  value: { type: String, required: true },
});

// Schema for credential repos, uses credentials paired with the name.
const credentialRepoSchema = new mongoose.Schema({
  name: { type: String, required: true, unique: true },
  credentials: [credentialSchema],
});

module.exports = mongoose.model('CredentialRepo', credentialRepoSchema);